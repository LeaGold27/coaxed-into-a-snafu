var Namespace={Register:function(n){for(var r=!1,t="",u=n.split("."),i=0;i<u.length;i++)t!=""&&(t+="."),t+=u[i],r=this.Exists(t),r||this.Create(t)},Create:function(n){eval("window."+n+" = new Object();")},Exists:function(n){return eval("var exists = false; if (typeof "+n+' !== "undefined") { exists = true; } else { exists = false; }'),exists}},WebTracking,Hyperlink;Namespace.Register("Microsoft.Online.BOX.JS.Shared");Microsoft.Online.BOX.JS.Shared=new function(){this.TraceWindow=null;this.DiagnosticsTraceWindow=null;this.AccessDeniedErrorNumber=-2146828218;this.GetSessionCookie=function(n){return n=this.GetFullSessionKeyName(n),this.GetCookie(n)};this.GetPersistentCookie=function(n){return n=this.GetFullPersistentKeyName(n),this.GetCookie(n)};this.GetCookie=function(n){var t,i;return document.cookie.length>0&&(t=document.cookie.indexOf(n+"="),t!=-1&&(t==0||document.cookie.substring(t-1,t)==" "||document.cookie.substring(t-1,t)==";"))?(t+=n.length+1,i=document.cookie.indexOf(";",t),i==-1&&(i=document.cookie.length),unescape(document.cookie.substring(t,i))):null};this.RedirectToErrorPage=function(){document.location=document.location.protocol+"//"+document.location.host+"/boxerror.aspx?ErrorCode=unknown"};this.SetPersistentCookie=function(n,t,i,r,u){return n=this.GetFullPersistentKeyName(n),r=r?r:"/",this.SetCookie(n,t,i,r,u)};this.SetSessionCookie=function(n,t,i,r){return n=this.GetFullSessionKeyName(n),this.SetCookie(n,t,null,i,r)};this.SetCookie=function(n,t,i,r,u){var f=n+"="+escape(t),e,o;typeof i!="undefined"&&i!=null&&(e=new Date,e.setDate(e.getDate()+i),f+="; expires="+e.toGMTString());typeof r!="undefined"&&r!=null&&(f+="; path="+r);o=window.location.protocol.toLowerCase().indexOf("https")==0?!0:!1;typeof u!="undefined"&&u!=null&&(o=!u);o&&(f+="; secure; ");document.cookie=f};this.ClearPersistentCookie=function(n){n=this.GetFullPersistentKeyName(n);this.SetCookie(n,"",-1,"/")};this.ClearSessionCookie=function(n){n=this.GetFullSessionKeyName(n);this.SetCookie(n,"",-1,"/")};this.GetFullPersistentKeyName=function(n){return this.CacheKeyNameFormat.Format(n)};this.GetFullSessionKeyName=function(n){return this.SessionCacheKeyNameFormat.Format(n)};this.SetPageID=function(n){var t=document.getElementById("BOXPageIDField");t!=null&&(t.value=n)};this.CacheContentFile=function(n){var i=document.createElement("iframe"),t;i.style.height="1px";i.style.width="1px";i.style.display="none";document.body.appendChild(i);t=i.contentWindow||i.contentDocument;t.document&&(t=t.document);n.match(/\.js$/i)==".js"&&(t.open(),t.writeln('<html><head><title>cacheing<\/title><script>function hideErrors() {return true;} window.onerror=hideErrors;<\/script><script ExcludeFromMFL="true" type="text/plaintext" defer="defer" src="'+n+'"><\/script><\/head><body><\/body><\/html>'),t.close());n.match(/\.css$/i)==".css"&&(t.open(),t.writeln('<html><head><title>cacheing<\/title><link ExcludeFromMFL="true" type="text/css" rel="stylesheet" href="'+n+'" /><\/head><body><\/body><\/html>'),t.close())};this.AppendDiagnosticsTrace=function(n,t){this.DiagnosticsTraceWindow==null&&(this.DiagnosticsTraceWindow=window.open("","DiagnosticsTraceWindow","status=0,width=800,height=600,location=0,resizable=1,scrollbars=1"));try{var i=this.DiagnosticsTraceWindow.document,r=null;window.DOMParser?(parser=new DOMParser,r=parser.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n));i.write("<script type='text/javascript'>function ToggleDisplay(elem) {");i.write("if (elem.innerText == '[-]') {");i.write("  elem.innerText = '[+]';");i.write("  elem.parentElement.nextSibling.style.display = 'none';}");i.write("else { ");i.write("   elem.innerText = '[-]';");i.write("   elem.parentElement.nextSibling.style.display = 'block';}}");i.write("<\/script>");i.write("<div style='font-family: Candara;'>");i.write("<h2 style='color:#e37b00; font-size: 16pt;'><a onclick='ToggleDisplay(this); return false;' href='#' style='padding: 2px 2px 0px 2px; text-decoration: none; color: Blue;'>[+]<\/a>");i.write(" Request Url - {0} ({1})<\/h2>".Format(document.location.href,t));i.write("<div style='margin-left: 20px; border: solid 1px Olive; display: none;'>");Microsoft.Online.BOX.JS.Shared.AppendNode(i,r,"Log","Logs - all log entries for the current request");Microsoft.Online.BOX.JS.Shared.AppendNode(i,r,"Trace","PerformanceTraces - partner calls made and their perf number");Microsoft.Online.BOX.JS.Shared.AppendNode(i,r,"RequestCookie","RequestCookies - list of cookies that were sent to the server");Microsoft.Online.BOX.JS.Shared.AppendNode(i,r,"ResponseCookie","ResponseCookies - list of cookies that are sent back to the browser");Microsoft.Online.BOX.JS.Shared.AppendNode(i,r,"HttpContextItem","HttpContextItems - cache items at the request level");Microsoft.Online.BOX.JS.Shared.AppendNode(i,r,"HttpCacheItem","HttpCacheItems - cache items at the global level");Microsoft.Online.BOX.JS.Shared.AppendNode(i,r,"Counter","PerformanceCounterValues - perf counter values at the current moment");Microsoft.Online.BOX.JS.Shared.AppendNode(i,r,"Config","ConfigValues - global properties names and values");Microsoft.Online.BOX.JS.Shared.AppendNode(i,r,"MachineInfoItem","MachineInfoItems - machine instance information");Microsoft.Online.BOX.JS.Shared.AppendNode(i,r,"ExternalDiagnosticsData","ExternalDiagnosticsData - external diagnostics elements");i.write("<\/div>");i.write("<\/div>")}catch(u){if(u.number!=this.AccessDeniedErrorNumber)throw u;}};this.AppendNode=function(n,t,i,r){var f,u;for(n.write("<h3 style='color:#e37b00; font-size: 14pt;'><a onclick='ToggleDisplay(this); return false;' href='#' style='padding: 2px 2px 0px 2px; text-decoration: none; color: Blue;'>[+]<\/a>"),n.write(" {0}<\/h3><table style='margin-left: 20px; display: none'>".Format(r)),f=t.getElementsByTagName(i),u=0;u<f.length;u++)n.write("<tr><td style='font-size: 12pt; padding: 2px 2px 0px 2px; border-bottom: solid 1px Maroon;'>"),f[u].childNodes.length==1||i=="ExternalDiagnosticsData"?n.write(f[u].childNodes[0].nodeValue):(n.write("<table style='font-size: 11pt;'><tr><td>Name: <\/td><td>"),n.write(f[u].childNodes[0].textContent),n.write("<\/td><\/tr><tr><td>Value: <\/td><td>"),n.write(f[u].childNodes[1].textContent),n.write("<\/td><\/tr><\/table>")),n.write("<\/td><\/tr>");n.write("<\/table>")};this.AppendTrace=function(n){try{function r(n,t,i,r,u,f){for(tr=n.createElement("tr"),j=0;j<i.length;j++)td=n.createElement(u),td.setAttribute("align",r[j]),td.innerHTML=i[j],typeof f!=undefined&&td.setAttribute("colspan",f),tr.appendChild(td);t.appendChild(tr)}this.TraceWindow==null&&(this.TraceWindow=window.open("","TraceWindow","status=0,width=550,height=250,location=0,resizable=1,scrollbars=1"));doc=this.TraceWindow.document;tb=doc.getElementById("trace");tb==null?(dv=doc.getElementById("divc"),dv==null&&doc.writeln('<div id="divc" style="margin-bottom:8px"><a href="javascript:void" onclick="document.location.replace(\'about:blank\')">[clear]<\/a><\/div>'),tb=doc.createElement("table"),tb.setAttribute("id","trace"),tb.setAttribute("border","1"),tb.setAttribute("cellpadding","2"),tb.setAttribute("cellspacing","0"),tb.style.fontFamily="Tahoma, Verdana, Arial, Sans-Serif",tb.style.fontSize="8pt",doc.body.appendChild(tb),tbody=doc.createElement("tbody"),tb.appendChild(tbody),r(doc,tbody,["Category","Method","Time, ms"],["left","left","center"],"th")):tbody=tb.firstChild;var t=n.split(/([|]+)/);for(i=0;i<t.length;){if(i+4>t.length)break;category=t[i];category=category.substr(2,category.length-2);method=t[++i];method=method.substr(2,method.length-2);time=t[++i];time=time.substr(2,time.length-2);i=i+2;r(doc,tbody,[category,method,time],["left","left","center"],"td")}r(doc,tbody,["..."],["center"],"td",3)}catch(u){if(u.number!=this.AccessDeniedErrorNumber)throw u;}}};WebTracking={TrackPageLoad:function(n){uri=window.location.pathname.toLowerCase()+":"+n;es=window.location.hostname.toLowerCase()+uri;try{dcsMultiTrack("WT.dl","0","DCS.dcsuri",uri,"WT.z_url",uri,"WT.es",es,"WT.ti",n)}catch(t){}},TrackLinkClick:function(n,t){var i=document.getElementById("BOXPageIDField");if(i!=null){uri=window.location.pathname.toLowerCase()+":"+i.value;es=window.location.hostname.toLowerCase()+uri;try{typeof t!="undefined"&&t!=null&&t.trim()!=""?dcsMultiTrack("WT.dl","1","DCS.dcsuri",n,"WT.z_url",n,"WT.es",es,"WT.ti",n,"DCSext.pp",t):dcsMultiTrack("WT.dl","1","DCS.dcsuri",n,"WT.z_url",n,"WT.es",es,"WT.ti",n)}catch(r){}}},TrackClickByCtrlId:function(n,t){n!==null&&n.id!==null&&WebTracking.TrackLinkClick(n.id,t)},TrackEvent:function(n,t){var i=document.getElementById("BOXPageIDField");if(i!=null){uri=window.location.pathname.toLowerCase()+":"+i.value;es=window.location.hostname.toLowerCase()+uri;try{dcsMultiTrack("WT.dl","10","DCS.dcsuri",uri,"WT.z_url",uri,"WT.es",es,"WT.ti",i.value,n,t)}catch(r){}}},TrackHipFailure:function(){this.TrackEvent("DCSext.hipf","1")},TrackHipSuccess:function(n){this.TrackEvent("DCSext.hips",n)},TrackCheckDomainFailure:function(){this.TrackEvent("DCSext.cdf","1")},TrackChangeCountryInSignup:function(){this.TrackEvent("DCSext.cchg","1")},TrackCheckDomainSuccess:function(n){this.TrackEvent("DCSext.cds",n)},TrackKeyDownInFirstOrLastnameInSignup:function(){this.TrackEvent("DCSext.kdfl","1")},TrackSignupSuccess:function(){this.TrackEvent("DCSext.ss","1")},TrackCorrelationShown:function(){this.TrackEvent("DCSext.CorrelationIdShown","1")},TrackValidateVatSuccess:function(){this.TrackEvent("DCSext.vats","1")},TrackValidateVatFailure:function(){this.TrackEvent("DCSext.vatf","1")},TrackValidateVatIndeterminate:function(){this.TrackEvent("DCSext.vati","1")}};Hyperlink={};Hyperlink.RerouteIE7Click=function(n){var t=window.event,i=!1;return t.srcElement.tagName.toUpperCase()==="IMG"&&t.srcElement.parentElement.className.indexOf("clipDiv")>-1&&(t.returnValue=!1,t.cancelBubble=!0,n.click(),i=!0),i};String.prototype.Format=function(){for(var r,i=String.prototype.Format.arguments,t=this,n=0;n<i.length;n++)r=new RegExp("\\{"+n+"\\}","gi"),t=t.replace(r,i[n]);return t};Namespace.Register("_s");_s.init=function(){_s.c=WebTracking.TrackLinkClick;_s.i=WebTracking.TrackClickByCtrlId};_s.fixGetLocation=function(){Sys.Browser.agent==Sys.Browser.Safari&&(Sys.UI.DomElement.getLocation=function(n){var r,o,s;if(n.window&&n.window===n||n.nodeType===9)return new Sys.UI.Point(0,0);for(var u=0,f=0,h=null,e=null,i,t=n;t;h=t,e=i,t=t.offsetParent)i=Sys.UI.DomElement._getCurrentStyle(t),r=t.tagName?t.tagName.toUpperCase():null,(t.offsetLeft||t.offsetTop)&&(r!=="BODY"||!e||e.position!=="absolute")&&(u+=t.offsetLeft,f+=t.offsetTop),h&&Sys.Browser.version>=3&&(u+=parseInt(i.borderLeftWidth),f+=parseInt(i.borderTopWidth));if(i=Sys.UI.DomElement._getCurrentStyle(n),o=i?i.position:null,!o||o!=="absolute")for(t=n.parentNode;t;t=t.parentNode)if(r=t.tagName?t.tagName.toUpperCase():null,r!=="BODY"&&r!=="HTML"&&(t.scrollLeft||t.scrollTop)&&(u-=t.scrollLeft||0,f-=t.scrollTop||0),i=Sys.UI.DomElement._getCurrentStyle(t),s=i?i.position:null,s&&s==="absolute")break;return new Sys.UI.Point(u,f)})};HtmlEncode=function(n){var t=document.createElement("div");return t.appendChild(document.createTextNode(n)),t.innerHTML.replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")};var LocalizedMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],LocalizedDayNumbers=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],LocalizedDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Microsoft.Online.BOX.JS.Shared.CacheKeyNameFormat="BOX.CacheKey.{0}";Microsoft.Online.BOX.JS.Shared.SessionCacheKeyNameFormat="BOX.SessionCacheKey.{0}"